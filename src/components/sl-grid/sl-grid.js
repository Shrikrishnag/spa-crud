define("text!components/sl-grid/sl-grid.html",[],function(){return'\r\n<!--  SLGrid generates template like this\r\n<script id="entity-row-template" type="text/html">\r\n</script>\r\n-->\r\n\r\n\r\n<div class="sl-grid-header-container">\r\n    <div style="">\r\n        <table cellpadding="0" cellspacing="0" border="0"\r\n               class="table tttable-striped table-bordered table-hover table-condensed sl-grid-header" style="border-top-width:0px">\r\n            <thead>\r\n                <tr data-bind="foreach: rowColumns">\r\n                    <th data-bind="style: { width: width, \'text-align\': align }">\r\n                        <!-- ko if: sortable -->\r\n                        <a href="javascript:void(0)" class=\'sortable\' data-bind="attr: {\'data-sort\': colName}, click: arrowClick">\r\n                            <span data-bind="html: headerText"></span>&nbsp;\r\n                            <i class="fa" data-bind="css: { \'fa-sort\' : !isSortColumn(), \'fa-caret-up\': isSortColumn() && pList.ascending(), \'fa-caret-down\': isSortColumn() && !pList.ascending() }"></i>\r\n                        </a>\r\n                        <!-- /ko -->\r\n                        <!-- ko ifnot: sortable -->\r\n                        <span class=\'sortable\' style="color: #23527c;" data-bind="html: headerText"></span>\r\n                        <!-- /ko -->\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tbody style=""></tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n\r\n<div class="scrollbar scrollbar-for-sl-grid" style="border-top-width:0px;height:200px;" data-bind="SLGridHandler:true">\r\n    <table cellpadding="0" cellspacing="0" border="0" \r\n           class="table tttable-striped table-bordered table-hover table-condensed sl-grid">\r\n        <thead>\r\n            <tr style="height: 0px; border-top-width: 0px;" data-bind="foreach: rowColumns">\r\n                <th data-bind="style: { width: width, \'text-align\': align }">\r\n                </th>\r\n            </tr>\r\n        </thead>\r\n        <tbody data-bind="template: { name: whichTemplate, foreach: items, afterRender: afterRenderTR  }"></tbody>\r\n    </table>\r\n</div>\r\n'}),function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(require("knockout"),exports):"function"==typeof define&&define.amd?define("knockout-mapping",["knockout","exports"],e):e(ko,ko.mapping={})}(function(e,t){function r(e,t){for(var r={},n=e.length-1;n>=0;--n)r[e[n]]=e[n];for(var n=t.length-1;n>=0;--n)r[t[n]]=t[n];var a=[];for(var i in r)a.push(r[i]);return a}function n(e,a){var i;for(var o in a)if(a.hasOwnProperty(o)&&a[o])if(i=t.getType(e[o]),o&&e[o]&&"array"!==i&&"string"!==i)n(e[o],a[o]);else{var s="array"===t.getType(e[o])&&"array"===t.getType(a[o]);s?e[o]=r(e[o],a[o]):e[o]=a[o]}}function a(e,t){var r={};return n(r,e),n(r,t),r}function i(e,t){for(var r=a({},e),n=T.length-1;n>=0;n--){var i=T[n];r[i]&&(r[""]instanceof Object||(r[""]={}),r[""][i]=r[i],delete r[i])}return t&&(r.ignore=o(t.ignore,r.ignore),r.include=o(t.include,r.include),r.copy=o(t.copy,r.copy),r.observe=o(t.observe,r.observe)),r.ignore=o(r.ignore,S.ignore),r.include=o(r.include,S.include),r.copy=o(r.copy,S.copy),r.observe=o(r.observe,S.observe),r.mappedProperties=r.mappedProperties||{},r.copiedProperties=r.copiedProperties||{},r}function o(r,n){return"array"!==t.getType(r)&&(r="undefined"===t.getType(r)?[]:[r]),"array"!==t.getType(n)&&(n="undefined"===t.getType(n)?[]:[n]),e.utils.arrayGetDistinctValues(r.concat(n))}function s(t,r){var n=e.dependentObservable;e.dependentObservable=function(r,n,a){a=a||{},r&&"object"==typeof r&&(a=r);var i=a.deferEvaluation,o=!1,s=function(r){var n=e.dependentObservable;e.dependentObservable=O;var a=e.isWriteableObservable(r);e.dependentObservable=n;var i=O({read:function(){return o||(e.utils.arrayRemoveItem(t,r),o=!0),r.apply(r,arguments)},write:a&&function(e){return r(e)},deferEvaluation:!0});return w&&(i._wrapper=!0),i.__DO=r,i};a.deferEvaluation=!0;var l=new O(r,n,a);return i||(l=s(l),t.push(l)),l},e.dependentObservable.fn=O.fn,e.computed=e.dependentObservable;var a=r();return e.dependentObservable=n,e.computed=e.dependentObservable,a}function l(r,n,i,o,u,v,g){var m="array"===t.getType(e.utils.unwrapObservable(n));if(v=v||"",t.isMapped(r)){var w=e.utils.unwrapObservable(r)[k];i=a(w,i)}var O={data:n,parent:g||u},$=function(){return i[o]&&i[o].create instanceof Function},T=function(t){return s(b,function(){return e.utils.unwrapObservable(u)instanceof Array?i[o].create({data:t||O.data,parent:O.parent,skip:x}):i[o].create({data:t||O.data,parent:O.parent})})},C=function(){return i[o]&&i[o].update instanceof Function},S=function(t,r){var n={data:r||O.data,parent:O.parent,target:e.utils.unwrapObservable(t)};return e.isWriteableObservable(t)&&(n.observable=t),i[o].update(n)},E=y.get(n);if(E)return E;if(o=o||"",m){var R=[],W=!1,H=function(e){return e};i[o]&&i[o].key&&(H=i[o].key,W=!0),e.isObservable(r)||(r=e.observableArray([]),r.mappedRemove=function(e){var t="function"==typeof e?e:function(t){return t===H(e)};return r.remove(function(e){return t(H(e))})},r.mappedRemoveAll=function(t){var n=p(t,H);return r.remove(function(t){return-1!=e.utils.arrayIndexOf(n,H(t))})},r.mappedDestroy=function(e){var t="function"==typeof e?e:function(t){return t===H(e)};return r.destroy(function(e){return t(H(e))})},r.mappedDestroyAll=function(t){var n=p(t,H);return r.destroy(function(t){return-1!=e.utils.arrayIndexOf(n,H(t))})},r.mappedIndexOf=function(t){var n=p(r(),H),a=H(t);return e.utils.arrayIndexOf(n,a)},r.mappedGet=function(e){return r()[r.mappedIndexOf(e)]},r.mappedCreate=function(t){if(-1!==r.mappedIndexOf(t))throw new Error("There already is an object with the key that you specified.");var n=$()?T(t):t;if(C()){var a=S(n,t);e.isWriteableObservable(n)?n(a):n=a}return r.push(n),n});var I=p(e.utils.unwrapObservable(r),H).sort(),N=p(n,H);W&&N.sort();var L,P,j=e.utils.compareArrays(I,N),z={},M=e.utils.unwrapObservable(n),A={},B=!0;for(L=0,P=M.length;P>L;L++){var J=H(M[L]);if(void 0===J||J instanceof Object){B=!1;break}A[J]=M[L]}var D=[],K=0;for(L=0,P=j.length;P>L;L++){var _,J=j[L],F=v+"["+L+"]";switch(J.status){case"added":var G=B?A[J.value]:c(e.utils.unwrapObservable(n),J.value,H);_=l(void 0,G,i,o,r,F,u),$()||(_=e.utils.unwrapObservable(_));var X=d(e.utils.unwrapObservable(n),G,z);_===x?K++:D[X-K]=_,z[X]=!0;break;case"retained":var G=B?A[J.value]:c(e.utils.unwrapObservable(n),J.value,H);_=c(r,J.value,H),l(_,G,i,o,r,F,u);var X=d(e.utils.unwrapObservable(n),G,z);D[X]=_,z[X]=!0;break;case"deleted":_=c(r,J.value,H)}R.push({event:J.status,item:_})}r(D),i[o]&&i[o].arrayChanged&&e.utils.arrayForEach(R,function(e){i[o].arrayChanged(e.event,e.item)})}else if(f(n)){if(r=e.utils.unwrapObservable(r),!r){if($()){var Y=T();return C()&&(Y=S(Y)),Y}if(C())return S(Y);r={}}if(C()&&(r=S(r)),y.save(n,r),C())return r;h(n,function(t){var a=v.length?v+"."+t:t;if(-1==e.utils.arrayIndexOf(i.ignore,a)){if(-1!=e.utils.arrayIndexOf(i.copy,a))return void(r[t]=n[t]);if("object"!=typeof n[t]&&"array"!=typeof n[t]&&i.observe.length>0&&-1==e.utils.arrayIndexOf(i.observe,a))return r[t]=n[t],void(i.copiedProperties[a]=!0);var o=y.get(n[t]),s=l(r[t],n[t],i,t,r,a,r),d=o||s;if(i.observe.length>0&&-1==e.utils.arrayIndexOf(i.observe,a))return r[t]=d(),void(i.copiedProperties[a]=!0);e.isWriteableObservable(r[t])?(d=e.utils.unwrapObservable(d),r[t]()!==d&&r[t](d)):(d=void 0===r[t]?d:e.utils.unwrapObservable(d),r[t]=d),i.mappedProperties[a]=!0}})}else switch(t.getType(n)){case"function":C()?e.isWriteableObservable(n)?(n(S(n)),r=n):r=S(n):r=n;break;default:if(e.isWriteableObservable(r)){if(C()){var q=S(r);return r(q),q}var q=e.utils.unwrapObservable(n);return r(q),q}var V=$()||C();if(r=$()?T():e.observable(e.utils.unwrapObservable(n)),C()&&r(S(r)),V)return r}return r}function d(e,t,r){for(var n=0,a=e.length;a>n;n++)if(r[n]!==!0&&e[n]===t)return n;return null}function u(r,n){var a;return n&&(a=n(r)),"undefined"===t.getType(a)&&(a=r),e.utils.unwrapObservable(a)}function c(t,r,n){t=e.utils.unwrapObservable(t);for(var a=0,i=t.length;i>a;a++){var o=t[a];if(u(o,n)===r)return o}throw new Error("When calling ko.update*, the key '"+r+"' was not found!")}function p(t,r){return e.utils.arrayMap(e.utils.unwrapObservable(t),function(e){return r?u(e,r):e})}function h(e,r){if("array"===t.getType(e))for(var n=0;n<e.length;n++)r(n);else for(var a in e)r(a)}function f(e){var r=t.getType(e);return("object"===r||"array"===r)&&null!==e}function v(e,r,n){var a=e||"";return"array"===t.getType(r)?e&&(a+="["+n+"]"):(e&&(a+="."),a+=n),a}function g(){var t=[],r=[];this.save=function(n,a){var i=e.utils.arrayIndexOf(t,n);i>=0?r[i]=a:(t.push(n),r.push(a))},this.get=function(n){var a=e.utils.arrayIndexOf(t,n),i=a>=0?r[a]:void 0;return i}}function m(){var e={},t=function(t){var r;try{r=t}catch(n){r="$$$"}var a=e[r];return void 0===a&&(a=new g,e[r]=a),a};this.save=function(e,r){t(e).save(e,r)},this.get=function(e){return t(e).get(e)}}var b,y,w=!0,k="__ko_mapping__",O=e.dependentObservable,$=0,T=["create","update","key","arrayChanged"],x={},C={include:["_destroy"],ignore:[],copy:[],observe:[]},S=C;t.isMapped=function(t){var r=e.utils.unwrapObservable(t);return r&&r[k]},t.fromJS=function(e){if(0==arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{$++||(b=[],y=new m);var t,r;2==arguments.length&&(arguments[1][k]?r=arguments[1]:t=arguments[1]),3==arguments.length&&(t=arguments[1],r=arguments[2]),r&&(t=a(t,r[k])),t=i(t);var n=l(r,e,t);if(r&&(n=r),!--$)for(;b.length;){var o=b.pop();o&&(o(),o.__DO.throttleEvaluation=o.throttleEvaluation)}return n[k]=a(n[k],t),n}catch(s){throw $=0,s}},t.fromJSON=function(r){var n=e.utils.parseJson(r);return arguments[0]=n,t.fromJS.apply(this,arguments)},t.updateFromJS=function(e){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},t.updateFromJSON=function(e){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},t.toJS=function(r,n){if(S||t.resetDefaultOptions(),0==arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==t.getType(S.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==t.getType(S.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==t.getType(S.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return n=i(n,r[k]),t.visitModel(r,function(t){return e.utils.unwrapObservable(t)},n)},t.toJSON=function(r,n){var a=t.toJS(r,n);return e.utils.stringifyJson(a)},t.defaultOptions=function(){return arguments.length>0?void(S=arguments[0]):S},t.resetDefaultOptions=function(){S={include:C.include.slice(0),ignore:C.ignore.slice(0),copy:C.copy.slice(0)}},t.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},t.visitModel=function(r,n,a){a=a||{},a.visitedObjects=a.visitedObjects||new m;var o,s=e.utils.unwrapObservable(r);if(!f(s))return n(r,a.parentName);a=i(a,s[k]),n(r,a.parentName),o="array"===t.getType(s)?[]:{},a.visitedObjects.save(r,o);var l=a.parentName;return h(s,function(r){if(!a.ignore||-1==e.utils.arrayIndexOf(a.ignore,r)){var i=s[r];if(a.parentName=v(l,s,r),-1!==e.utils.arrayIndexOf(a.copy,r)||-1!==e.utils.arrayIndexOf(a.include,r)||!s[k]||!s[k].mappedProperties||s[k].mappedProperties[r]||!s[k].copiedProperties||s[k].copiedProperties[r]||"array"===t.getType(s)){switch(t.getType(e.utils.unwrapObservable(i))){case"object":case"array":case"undefined":var d=a.visitedObjects.get(i);o[r]="undefined"!==t.getType(d)?d:t.visitModel(i,n,a);break;default:o[r]=n(i,a.parentName)}}}}),o}}),define("scroller",["exports"],function(e){!function(e,t){function r(t){t=e.extend({},g,t||{}),null===h&&(h=e("body"));for(var r=e(this),a=0,i=r.length;i>a;a++)n(r.eq(a),t);return r}function n(r,n){if(!r.hasClass(f.base)){n=e.extend({},n,r.data(p+"-options"));var s="";s+='<div class="'+f.bar+'">',s+='<div class="'+f.track+'">',s+='<div class="'+f.handle+'">',s+="</div></div></div>",n.paddingRight=parseInt(r.css("padding-right"),10),n.paddingBottom=parseInt(r.css("padding-bottom"),10),r.addClass([f.base,n.customClass].join(" ")).wrapInner('<div class="'+f.content+'" />').prepend(s),n.horizontal&&r.addClass(f.isHorizontal);var l=e.extend({$scroller:r,$content:r.find(c(f.content)),$bar:r.find(c(f.bar)),$track:r.find(c(f.track)),$handle:r.find(c(f.handle))},n);l.trackMargin=parseInt(l.trackMargin,10),l.$content.on("scroll."+p,l,a),l.$scroller.on(v.start,c(f.track),l,i).on(v.start,c(f.handle),l,o).data(p,l),m.reset.apply(r),e(t).one("load",function(){m.reset.apply(r)})}}function a(t){t.preventDefault(),t.stopPropagation();var r=t.data,n={};if(r.horizontal){var a=r.$content.scrollLeft();0>a&&(a=0);var i=a/r.scrollRatio;i>r.handleBounds.right&&(i=r.handleBounds.right),n={left:i},r.$handle.css(n),sl}else{var o=r.$content.scrollTop();0>o&&(o=0);var s=o/r.scrollRatio;s>r.handleBounds.bottom&&(s=r.handleBounds.bottom),n={top:s},r.$handle.css(n),e(this).trigger("on-scroll")}}function i(e){e.preventDefault(),e.stopPropagation();var t=e.data,r=e.originalEvent,n=t.$track.offset(),a="undefined"!=typeof r.targetTouches?r.targetTouches[0]:null,i=a?a.pageX:e.clientX,o=a?a.pageY:e.clientY;t.horizontal?(t.mouseStart=i,t.handleLeft=i-n.left-t.handleWidth/2,u(t,t.handleLeft)):(t.mouseStart=o,t.handleTop=o-n.top-t.handleHeight/2,u(t,t.handleTop)),s(t)}function o(e){e.preventDefault(),e.stopPropagation();var t=e.data,r=e.originalEvent,n="undefined"!=typeof r.targetTouches?r.targetTouches[0]:null,a=n?n.pageX:e.clientX,i=n?n.pageY:e.clientY;t.horizontal?(t.mouseStart=a,t.handleLeft=parseInt(t.$handle.css("left"),10)):(t.mouseStart=i,t.handleTop=parseInt(t.$handle.css("top"),10)),s(t)}function s(e){e.$content.off(c(p)),h.on(v.move,e,l).on(v.end,e,d)}function l(e){e.preventDefault(),e.stopPropagation();var t=e.data,r=e.originalEvent,n=0,a=0,i="undefined"!=typeof r.targetTouches?r.targetTouches[0]:null,o=i?i.pageX:e.clientX,s=i?i.pageY:e.clientY;t.horizontal?(a=t.mouseStart-o,n=t.handleLeft-a):(a=t.mouseStart-s,n=t.handleTop-a),u(t,n)}function d(e){e.preventDefault(),e.stopPropagation();var t=e.data;t.$content.on("scroll.scroller",t,a),h.off(".scroller")}function u(t,r){var n={};if(t.horizontal){r<t.handleBounds.left&&(r=t.handleBounds.left),r>t.handleBounds.right&&(r=t.handleBounds.right);var a=Math.round(r*t.scrollRatio);n={left:r},t.$content.scrollLeft(a)}else{r<t.handleBounds.top&&(r=t.handleBounds.top),r>t.handleBounds.bottom&&(r=t.handleBounds.bottom);var i=Math.round(r*t.scrollRatio);n={top:r},t.$content.scrollTop(i),e(this).trigger("on-scroll")}t.$handle.css(n)}function c(e){return"."+e}var p="scroller",h=null,f={base:"scroller",content:"scroller-content",bar:"scroller-bar",track:"scroller-track",handle:"scroller-handle",isHorizontal:"scroller-horizontal",isSetup:"scroller-setup",isActive:"scroller-active"},v={start:"touchstart."+p+" mousedown."+p,move:"touchmove."+p+" mousemove."+p,end:"touchend."+p+" mouseup."+p},g={customClass:"",duration:0,handleSize:0,horizontal:!1,trackMargin:0},m={defaults:function(t){return g=e.extend(g,t||{}),"object"==typeof this?e(this):!0},destroy:function(){return e(this).each(function(t,r){var n=e(r).data(p);n&&(n.$scroller.removeClass([n.customClass,f.base,f.isActive].join(" ")),n.$bar.remove(),n.$content.contents().unwrap(),n.$content.off(c(p)),n.$scroller.off(c(p)).removeData(p))})},scroll:function(t,r){return e(this).each(function(n){var a=e(this).data(p),i=r||g.duration;if("number"!=typeof t){var o=e(t);if(o.length>0){var s=o.position();t=a.horizontal?s.left+a.$content.scrollLeft():s.top+a.$content.scrollTop()}else t=a.$content.scrollTop()}var l=a.horizontal?{scrollLeft:t}:{scrollTop:t};a.$content.stop().animate(l,i)})},reset:function(){return e(this).each(function(t){var r=e(this).data(p);if(r){r.$scroller.addClass(f.isSetup);var n={},a={},i={},o=0,s=!0;if(r.horizontal){r.barHeight=r.$content[0].offsetHeight-r.$content[0].clientHeight,r.frameWidth=r.$content.outerWidth(),r.trackWidth=r.frameWidth-2*r.trackMargin,r.scrollWidth=r.$content[0].scrollWidth,r.ratio=r.trackWidth/r.scrollWidth,r.trackRatio=r.trackWidth/r.scrollWidth,r.handleWidth=r.handleSize>0?r.handleSize:r.trackWidth*r.trackRatio,r.scrollRatio=(r.scrollWidth-r.frameWidth)/(r.trackWidth-r.handleWidth),r.handleBounds={left:0,right:r.trackWidth-r.handleWidth},r.$content.css({paddingBottom:r.barHeight+r.paddingBottom});var l=r.$content.scrollLeft();o=l*r.ratio,s=r.scrollWidth<=r.frameWidth,n={width:r.frameWidth},a={width:r.trackWidth,marginLeft:r.trackMargin,marginRight:r.trackMargin},i={width:r.handleWidth}}else{r.barWidth=r.$content[0].offsetWidth-r.$content[0].clientWidth,r.frameHeight=r.$content.outerHeight(),r.trackHeight=r.frameHeight-2*r.trackMargin,r.scrollHeight=r.$content[0].scrollHeight,r.ratio=r.trackHeight/r.scrollHeight,r.trackRatio=r.trackHeight/r.scrollHeight,r.handleHeight=r.handleSize>0?r.handleSize:r.trackHeight*r.trackRatio,r.scrollRatio=(r.scrollHeight-r.frameHeight)/(r.trackHeight-r.handleHeight),r.handleBounds={top:0,bottom:r.trackHeight-r.handleHeight};var d=r.$content.scrollTop();o=d*r.ratio,s=r.scrollHeight<=r.frameHeight,n={height:r.frameHeight},a={height:r.trackHeight,marginBottom:r.trackMargin,marginTop:r.trackMargin},i={height:r.handleHeight}}s?(r.$scroller.removeClass(f.isActive),e(this).trigger("scroller-hidden")):(r.$scroller.addClass(f.isActive),e(this).trigger("scroller-shown")),r.$bar.css(n),r.$track.css(a),r.$handle.css(i),u(r,o),r.$scroller.removeClass(f.isSetup)}})}};e.fn[p]=function(e){return m[e]?m[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?this:r.apply(this,arguments)},e[p]=function(e){"defaults"===e&&m.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery)}),define("components/sl-grid/sl-grid",["exports","module","knockout","text!./sl-grid.html","knockout-mapping","scroller"],function(e,t,r,n,a,i){/*!
     * SLGrid library v1.0.0
     * (c) Slavko Parezanin - https://github.com/SlavkoPar/SLGrid/
     * License: MIT (http://www.opensource.org/licenses/mit-license.php)
     */
function o(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){console.log(e)}var d=o(r),u=o(n),c=o(a);d["default"].mapping=c["default"],d["default"].bindingHandlers.SLGridHandler={init:function(e,t,r,n,a){n.generateRowTemplates(),n.getItems(),n.myContainer(a.$parentContext.$component),n.elem=$(e),n.elem.scroller().bind("scroller-hidden",function(){$(this).prev().children().first().removeClass("scroller-active")}).bind("scroller-shown",function(){$(this).prev().children().first().addClass("scroller-active")}).bind("on-scroll",function(){})}};var p=function h(e){s(this,h);var t=this;this.elem=null,this.Entity=e.Entity,this.columns=e.columns,this.primaryKey=null,this.entityName=null,this.page=1,this.pageSize=e.pageSize()||6,this.rowColumns=[],this.items=d["default"].observableArray([]),this.currentPageIndex=d["default"].observable(0),this.Filter=d["default"].observable(""),this.myContainer=d["default"].observable(),e.MyGrid(this),this.doTheJob=function(){l("Do the pager job")},this.pager=e.MyPager,this.pager.subscribe(function(e){l("Grid takes Pager"),t.doTheJob()}),void 0!==this.pager()&&this.doTheJob(),this.orderColumn=d["default"].observable(e.orderBy.Column),this.ascending=d["default"].observable(e.orderBy.ascending),this.Init=function(){this.primaryKey=this.Entity.prototype.primaryKey,this.entityName=this.Entity.prototype.primaryKey.toLowerCase().replace("id",""),this.getRowColumns()},this.getRowColumns=function(){var e=this;$.each(this.columns,function(t,r){var n=void 0==r.sortable?!0:r.sortable;r.primaryKey&&(e.primaryKey=r.fieldName),e.rowColumns.push({pList:e,headerText:r.header,colName:r.fieldName,readOnly:void 0==r.readOnly?!0:r.readOnly,width:r.width||"auto",align:r.align||"left",sortable:n,isSortColumn:d["default"].observable(n&&r.fieldName==e.orderColumn()),arrowClick:function(e,t){var r=$(t.target);"a"!=r[0].tagName.toLowerCase()&&(r=r.closest("th").find("i:visible")),r.hasClass("fa-sort")?($.each(e.pList.rowColumns,function(){this.isSortColumn(!1),e.isSortColumn(!0)}),e.pList.orderColumn(e.colName)):r.hasClass("fa-caret-up")?e.pList.ascending(!e.pList.ascending()):r.hasClass("fa-caret-down")&&e.pList.ascending(!e.pList.ascending()),this.pList.getItems()}})})},this.generateRowTemplate=function(){var e=[];e.push('<tr data-bind="attr:{'+this.primaryKeyAsAttr+", 'data-index': $index }, css : { oddRow : $index()%2==0 }\">");var t=0;return $.each(this.columns,function(r,n){if(e.push("<td"+(void 0==n.align?"":" align='"+n.align+"'")+">"),t++,n.markup)e.push(n.markup);else if(n.presentation){var a="";""==n.fieldName?e.push('<span data-field="'+n.header+'" data-bind="'+n.presentation+": true, inRow:true"+a+'"></span>'):e.push('<span data-field="'+n.fieldName+'" data-bind="'+n.presentation+": "+n.fieldName+", inRow:true"+a+'"></span>')}else e.push('<span data-field="'+n.fieldName+'" data-bind="text: '+n.fieldName+'"></span>');e.push("</td>")}),e.push("</tr>"),e.push("\n"),e.join("\n")},this.generateRowEditTemplate=function(){var e=[];e.push('<tr data-bind="attr:{'+this.primaryKeyAsAttr+", 'data-index': $index }, css : { oddRow : $index()%2==0 }\">");var t=0;return $.each(this.columns,function(r,n){e.push("<td"+(void 0==n.align?"":" align='"+n.align+"'")+">"),t++,n.markup?e.push(n.markup):n.presentation?""==n.fieldName?e.push('<span data-field="'+n.header+'" data-bind="'+n.presentation+': true, inRow:true"></span>'):e.push('<span data-field="'+n.fieldName+'" data-bind="'+n.presentation+": "+n.fieldName+', inRow:true"></span>'):e.push('<input data-field="'+n.fieldName+"\" class='form-control' data-bind=\"textInput: "+n.fieldName+', inRow:true"></input>'),e.push("</td>")}),e.push("</tr>"),e.push("\n"),e.join("\n")},this.generateRowTemplates=function(){function e(e,t){var r=document.createElement("script");r.type="text/html",r.id=e,r.innerHTML=t,document.body.appendChild(r)}this.primaryKeyAsAttr=this.primaryKey.toLowerCase()[0]+this.primaryKey.substr(1)+":"+this.primaryKey;var t,r;this.Entity.prototype.templates.rowView||(t=this.generateRowTemplate(),r=this.entityName+"-row-template",this.Entity.prototype.templates.rowView=r,e(r,t)),this.Entity.prototype.templates.rowEdit||(t=this.generateRowEditTemplate(),r=this.entityName+"-row-edit-template",this.Entity.prototype.templates.rowEdit=r,e(r,t))},this.whichTemplate=function(e){return e.whichTemplate()},this.getItems=function(e,t){e&&(this.page=e),t&&(this.pageSize=t);var r={Filter:this.Filter(),Page:this.page,PageSize:this.pageSize,OrderBy:this.orderColumn(),Asc:this.ascending()},n=this;this.Entity.prototype.entityDB.getItems(r,function(e){n.pager().maxPageIndex(Math.ceil(e.nFiltered/r.PageSize)-1),n.pager().nItems(e.nItems);var t=d["default"].observableArray([]);d["default"].mapping.fromJS(e.rowsAtPage,{key:function(e){return d["default"].utils.unwrapObservable(e[n.primaryKey])},create:function(e){var t=new n.Entity(e.data);return t}},t),n.items(t()),n.elem.scroller("reset")})},this.editEntity=function(e,t){this.myContainer().editEntity(e,t)},this.afterRenderTR=function(e,t){$.each(e,function(e,t){"TR"==t.tagName})},this.Init()};t.exports={viewModel:p,template:u["default"]}});